<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: nol_hero_bond.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: nol_hero_bond.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @overview Functions to calculate heros' bond value of
 *           Nobunaga's ambition Online.
 *
 * @author Minoru Sekine
 * @copyright Copyrght 2023, 2024 Minoru Sekine
 */

/*
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
 * See the GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public
 * License along with this program.
 * If not, see &lt;https://www.gnu.org/licenses/>.
 */

/**
 * Calculate bond value by specified limit break level and status.
 *
 * @param {number} level - Limit break level
 * @param {number} status - Status value
 * @return {number} Bond value by specified limit break level and status
 */
function calcBond(level, status) {
  return Math.floor(((level + 6) * status) / 100);
}

/**
 * Calculate necessary status to get specified bond value
 *
 * with specified limit break level.
 * This is inverted calculation of calcBond().
 * @param {number} level - Limit break level
 * @param {number} bond - Bond value
 * @return {number} Necessary status to get specified bond with specified level
 */
function calcStatus(level, bond) {
  return Math.ceil((bond * 100) / (level + 6));
}

/**
 * Update all elements on HTML by current inputs.
 */
function update() {
  let level = parseInt(document.getElementById('level-input').value, 10);
  let status = parseInt(document.getElementById('status-input').value, 10);
  let bondInput = document.getElementById('bond-input');
  const bond = calcBond(level, status);
  bondInput.value = bond;

  let levelInputArray = ['level0-input',
                         'level1-input',
                         'level2-input',
                         'level3-input',
                         'level4-input'];
  for (var i = 0; i &lt; levelInputArray.length; i++) {
    let levelInput = document.getElementById(levelInputArray[i]);
    levelInput.value = calcStatus(i, bond);
  }
}

window.onload = () => {
  let levelInput = document.getElementById('level-input');
  levelInput.addEventListener('input', () => {
    update();
  });

  let statusInput = document.getElementById('status-input');
  statusInput.addEventListener('input', () => {
    update();
  });

  update();
};
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#calcBond">calcBond</a></li><li><a href="global.html#calcStatus">calcStatus</a></li><li><a href="global.html#update">update</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Mon Jun 10 2024 22:20:21 GMT+0000 (Coordinated Universal Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
